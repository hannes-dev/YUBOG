<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Yubog</title>
</head>

<body>
    <div class="module center">
        <div id="timer" class="timer center">timer</div>
    </div>
</body>

<script type="module">
    import Bomb from "./BombLib.js";
    let modules = ["./modules/yes_no/module.html", "./modules/yes_no/module.html" ,"./modules/yes_no/module.html"];
    let module_frames = [];

    for (const module of modules) {
        let iframe = document.createElement("iframe");
        iframe.src = module;
        iframe.className = "module";
        document.body.appendChild(iframe);
        module_frames.push(iframe);
    }

    const bomb = new Bomb(module_frames, 120, 2);

    const timer = document.getElementById("timer");
    function tick() {
        timer.innerHTML = bomb.time_left_string;
    }
    window.addEventListener("tick", tick);

    function explode() {
        timer.innerHTML = "BOOM!";
    }
    window.addEventListener("explode", explode);

    bomb.start(100);
</script>

<style>
    .module {
        background-color: gray;
        aspect-ratio: 1/1;
        width: 20%;
        border: none;
        border-radius: 20px;
        margin: 2rem;
    }

    .timer {
        font-family: monospace;
        font-size: 4rem;
        color: red;
        background-color: black;
        padding: 2rem 1.5rem;
        width: 70%;
    }

    body {
        background-color: #121212;
        font-family: sans-serif;
        display: flex;
    }

    .center {
        display: flex;
        justify-content: center;
        align-items: center;
    }
</style>

</html>